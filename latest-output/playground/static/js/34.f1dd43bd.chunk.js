(this["webpackJsonpelectron-playground"]=this["webpackJsonpelectron-playground"]||[]).push([[34],{1477:function(e,t,n){"use strict";n.r(t),n.d(t,"EditorId",(function(){return X})),n.d(t,"TitleMAP",(function(){return $})),n.d(t,"DEFAULT_MOSAIC_ARRANGEMENT",(function(){return te}));var r=n(368),a=n(197),c=n(173),o=n.n(c),s=n(323),u=n(58),i=n(0),l=n.n(i),p=n(1197),d=n(218),f=n(74),m=n(156),v=n(409),h=n(1478),j=n(1480),b=n(1481),x=n(1482),g=n(1379),y=n(1483),w=n(147),E=n(1378),O=n(1373),_=n(137),k=n(342),C=n(1182),L=n.n(C),M=n(134),N=!0;function S(e){return M.join(_.remote.app.getPath("appData"),"electron-bin",e)}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S(e);switch(process.platform){case"darwin":return M.join(t,"Electron.app/Contents/MacOS/Electron");case"freebsd":case"linux":return M.join(t,"electron");case"win32":return M.join(t,"electron.exe");default:throw new Error("Electron builds are not available for ".concat(process.platform))}}function A(e){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){console.debug("Binary: Version ".concat(t," download progress: ").concat(e.percent))},console.log("\u6b63\u5728\u4e0b\u8f7d"),e.next=4,Object(O.a)(t,{downloadOptions:{quiet:!0,getProgressCallback:n},mirrorOptions:{mirror:"https://npm.taobao.org/mirrors/electron/"}});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return P.apply(this,arguments)}function P(){return(P=Object(s.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=R(t,n),e.abrupt("return",k.existsSync(r));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return new Promise(function(){var n=Object(s.a)(o.a.mark((function n(r,a){var c,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return process.noAsar=!0,c={dir:t},n.prev=2,n.next=5,L()(e,c);case 5:s=n.sent,r(s),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),a(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e,t){return n.apply(this,arguments)}}())}function U(){return z.apply(this,arguments)}function z(){return(z=Object(s.a)(o.a.mark((function e(){var t,n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:return N=!1,t=process.versions.electron,e.next=6,k.mkdirp(S(t));case 6:return e.next=8,F(t);case 8:if(!e.sent){e.next=11;break}return N=!0,e.abrupt("return");case 11:return n=E.b.loading("\u6b63\u5728\u4e0b\u8f7d".concat(t,"\u7248\u672c\u7684Electron"),0),e.next=14,A(t);case 14:return r=e.sent,a=S(t),e.next=18,D(r,a);case 18:c=e.sent,n(),E.b.success("\u4e0b\u8f7d\u6210\u529f"),N=!0,console.log("Unzipped ".concat(t),c);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=M.resolve(__dirname,".."),I=M.join(B,"tmp"),J=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return(t=Object(w.spawn)(R(process.versions.electron),[M.join(I,"main.js"),"--inspect"])).stdout.on("data",(function(e){console.log("stdout: ".concat(e))})),t.stderr.on("data",(function(e){console.error("stderr: ".concat(e))})),t.on("close",(function(e){console.log("\u5b50\u8fdb\u7a0b\u9000\u51fa\uff0c\u9000\u51fa\u7801 ".concat(e))})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.emptyDir(I);case 2:e.t0=o.a.keys(t);case 3:if((e.t1=e.t0()).done){e.next=9;break}return n=e.t1.value,e.next=7,k.outputFile(M.join(I,n),t[n]);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(e,t){try{return M.resolve(__dirname,"..","example",t,e)}catch(n){return console.log(n),""}},q=function(e){return k.readFileSync(e).toString()},H=function(){var e=Object(s.a)(o.a.mark((function e(){var t,n,r,a,c,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"template",e.next=3,W("renderer.ts",t);case 3:return n=e.sent,e.next=6,W("main.ts",t);case 6:return r=e.sent,e.next=9,W("index.html",t);case 9:return a=e.sent,e.next=12,W("preload.ts",t);case 12:return c=e.sent,e.abrupt("return",{"renderer.js":q(n),"main.js":q(r),"index.html":q(a),"preload.js":q(c)});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var K=n(771),G=n.n(K),Z=function(e){var t=e.layout,n=e.setLayout,r=function e(t){if(!t)return[];if("string"===typeof t)return[t];for(var n=[],r=0,a=[t.first,t.second];r<a.length;r++){var c=a[r];"string"===typeof c?n.push(c):n.push.apply(n,Object(f.a)(e(c)))}return n}(t),a=function(e){return function(){var t;t=r.includes(e)?r.filter((function(t){return t!==e})):[].concat(Object(f.a)(r),[e]),n(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"row";if(1===t.length)return t[0];var r=Object(f.a)(t),a=r.splice(0,Math.floor(r.length/2));return{direction:n,first:e(a,"column"),second:e(r,"column")}}(t))}};return l.a.createElement(m.a,null,["main.js","renderer.js","index.html","preload.js"].map((function(e){return l.a.createElement(m.a.Item,{key:e,onClick:a(e),id:e,icon:r.includes(e)?l.a.createElement(j.a,null):l.a.createElement(b.a,null)},e)})))};function Q(e){var t=e.handleExec,n=e.setLayout,r=e.layout,a=Object(i.useState)("RUN"),c=Object(u.a)(a,2),p=c[0],d=c[1],f=Object(i.useRef)(),m=function(){var e=Object(s.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.current){e.next=5;break}f.current.kill(),f.current=null,e.next=11;break;case 5:return e.next=7,t();case 7:n=e.sent,f.current=n,d("STOP"),null===n||void 0===n||n.on("close",(function(e){d("RUN")}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:G.a.wrap},l.a.createElement("div",{className:G.a.title},l.a.createElement(v.a,{disabled:!0,size:"small",icon:l.a.createElement(x.a,null)},"Electron v",process.versions.electron),l.a.createElement(v.a,{size:"small",onClick:m,icon:"RUN"===p?l.a.createElement(g.a,null):l.a.createElement(y.a,null)},p)),l.a.createElement("div",{className:"editors"},l.a.createElement(h.a,{overlay:l.a.createElement(Z,{layout:r,setLayout:n})},l.a.createElement(v.a,{size:"small",icon:l.a.createElement(x.a,null)},"Editors"))))}n(1194),n(1195),n(1196);var X,Y={scrollbar:{alwaysConsumeMouseWheel:!0},scrollBeyondLastLine:!0};!function(e){e["main.js"]="main.js",e["renderer.js"]="renderer.js",e["index.html"]="index.html",e["preload.js"]="preload.js"}(X||(X={}));var $={"main.js":"\u4e3b\u8fdb\u7a0b\u4ee3\u7801","renderer.js":"\u6e32\u67d3\u8fdb\u7a0b\u4ee3\u7801","index.html":"\u7a97\u53e3HTML","preload.js":"preload.js\u4ee3\u7801"},ee={"main.js":"javascript","renderer.js":"javascript","index.html":"html","preload.js":"javascript"},te={direction:"row",first:{direction:"column",first:X["main.js"],second:X["preload.js"]},second:{direction:"column",first:X["renderer.js"],second:X["index.html"]}},ne=function(e){var t=e.code,n=e.language,r=e.onChange;return l.a.createElement(d.a,{code:t,options:Y,language:n,height:"100vh",onChange:r})};t.default=function(){var e=Object(i.useState)(te),t=Object(u.a)(e,2),n=t[0],c=t[1],d=Object(i.useState)(),f=Object(u.a)(d,2),m=f[0],v=f[1],h=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:t=e.sent,v(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=7;break}return e.next=3,V(m);case 3:return e.next=5,J();case 5:return t=e.sent,e.abrupt("return",t);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){h()}),[]),m?l.a.createElement("div",{className:G.a.wrapper},l.a.createElement(Q,{handleExec:j,layout:n,setLayout:c}),l.a.createElement("div",{className:G.a.editor},l.a.createElement(p.Mosaic,{renderTile:function(e,t){return l.a.createElement(p.MosaicWindow,{title:e,path:t},l.a.createElement(ne,{code:m[e],language:ee[e],onChange:(n=e,function(e){v((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(r.a)({},n,e))}))})}));var n},onChange:function(e){e&&c(e)},value:n,zeroStateView:l.a.createElement(p.MosaicZeroState,null)}))):null}},218:function(e,t,n){"use strict";var r=n(197),a=n(173),c=n.n(a),o=n(323),s=n(0),u=n.n(s),i=n(350),l=n(342),p=n(134),d=p.join("node_modules","electron","electron.d.ts"),f=p.join("node_modules","@types","node","fs.d.ts"),m=p.join("node_modules","@types","node","path.d.ts"),v={theme:"vs",minimap:{enabled:!1},scrollBeyondLastLine:!1,scrollbar:{alwaysConsumeMouseWheel:!1},automaticLayout:!0};t.a=function(e){var t=e.code,n=e.height,a=e.language,p=void 0===a?"javascript":a,h=e.options,j=void 0===h?{}:h,b=e.onChange,x=void 0===b?console.log:b,g=Object(s.useRef)(null),y=Object(s.useRef)(null),w=Object(s.useRef)(0),E=function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[d,f,m].map((function(e){return e&&l.existsSync(e)?l.readFile(e,"utf-8"):null}));case 2:return t=e.sent,e.next=5,Promise.all(t);case 5:e.sent.forEach((function(e){return i.languages.typescript.javascriptDefaults.addExtraLib(e||"")}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e,t=y.current;if(!n&&t){var r=t.getDomNode();if(r){var a=t.getOption(i.editor.EditorOption.lineHeight),c=(null===(e=t.getModel())||void 0===e?void 0:e.getLineCount())||1,o=t.getTopForLineNumber(c+1)+a;w.current!==o&&(w.current=o,r.style.height="".concat(o+10,"px"),t.layout())}}};return Object(s.useEffect)((function(){return function(){var e=g.current;if(e){var n=i.editor.create(e,Object(r.a)(Object(r.a)({value:t,language:p},v),j));y.current=n,n.onDidChangeModelContent((function(e){x&&x(n.getValue(),e),O(),requestAnimationFrame(O)})),E()}}(),O(),function(){var e;null===(e=y.current)||void 0===e||e.dispose()}}),[]),u.a.createElement("div",{ref:g,style:{width:"100%",height:n}})}},771:function(e,t,n){e.exports={wrapper:"style_wrapper__1Og3K",editor:"style_editor__3nAtj",window:"style_window__3_K7k",wrap:"style_wrap__1UP0x",title:"style_title__3T0ps",run:"style_run__1FrME",console:"style_console__2J9iR"}}}]);